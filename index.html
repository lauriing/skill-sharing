<!DOCTYPE html>
<html>
<head>
  <title>Individualis</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/html5up-stellar/1.0.0/assets/css/main.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <style>
    /* === CYBERPUNK HERTA THEME === */
    :root {
      /* Cyberpunk Color Palette */
      --neon-blue: #00f3ff;
      --neon-purple: #ae00ff;
      --neon-pink: #ff00ff;
      --neon-green: #00ff8f;
      --neon-yellow: #ffee00;
      --dark-blue: #0a0a20;
      --dark-purple: #1a0933;
      --dark-base: #0c0c14;
      --medium-dark: #151526;
      --success-color: #00ff8f;
      --error-color: #ff0050;
      --card-bg: rgba(18, 18, 36, 0.8);
      --input-bg: rgba(15, 15, 35, 0.6);
      --glow-blue: 0 0 10px #00f3ff, 0 0 20px rgba(0, 243, 255, 0.5);
      --glow-purple: 0 0 10px #ae00ff, 0 0 20px rgba(174, 0, 255, 0.5);
      --glow-pink: 0 0 10px #ff00ff, 0 0 20px rgba(255, 0, 255, 0.5);
      --text-shadow: 0 0 5px currentColor;
    }
    
    /* Base Styles */
    html, body {
      height: 100vh;
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: var(--dark-base);
      color: #ffffff;
      font-family: 'Rajdhani', 'Segoe UI', sans-serif;
    }
    
    body {
      min-height: 100vh;
      background: radial-gradient(circle at center, var(--medium-dark) 0%, var(--dark-base) 100%);
      position: relative;
      overflow-y: auto;
    }
    
    /* Cyberpunk Grid Overlay */
    body:before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(174, 0, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(174, 0, 255, 0.03) 1px, transparent 1px);
      background-size: 20px 20px;
      pointer-events: none;
      z-index: -1;
    }
    
    /* Digital Noise Effect */
    body:after {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJub2lzZSI+PGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuOSIgbnVtT2N0YXZlcz0iMyIgc3RpdGNoVGlsZXM9InN0aXRjaCIvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWx0ZXI9InVybCgjbm9pc2UpIiBvcGFjaXR5PSIwLjA1Ii8+PC9zdmc+');
      opacity: 0.2;
      z-index: -1;
      pointer-events: none;
    }
    
    /* Cyberpunk Lines */
    .cyber-line {
      position: fixed;
      background: linear-gradient(90deg, transparent, var(--neon-purple), transparent);
      height: 1px;
      width: 100%;
      z-index: -1;
      opacity: 0.3;
      animation: pulse 3s infinite alternate;
    }
    
    .cyber-line:nth-child(1) { top: 5%; animation-delay: 0s; }
    .cyber-line:nth-child(2) { top: 25%; animation-delay: 0.5s; }
    .cyber-line:nth-child(3) { top: 50%; animation-delay: 1s; }
    .cyber-line:nth-child(4) { top: 75%; animation-delay: 1.5s; }
    .cyber-line:nth-child(5) { top: 95%; animation-delay: 2s; }
    
    .cyber-line-vertical {
      position: fixed;
      background: linear-gradient(180deg, transparent, var(--neon-blue), transparent);
      width: 1px;
      height: 100%;
      z-index: -1;
      opacity: 0.3;
      animation: pulse 4s infinite alternate;
    }
    
    .cyber-line-vertical:nth-child(1) { left: 5%; animation-delay: 0.2s; }
    .cyber-line-vertical:nth-child(2) { left: 25%; animation-delay: 0.7s; }
    .cyber-line-vertical:nth-child(3) { left: 50%; animation-delay: 1.2s; }
    .cyber-line-vertical:nth-child(4) { left: 75%; animation-delay: 1.7s; }
    .cyber-line-vertical:nth-child(5) { left: 95%; animation-delay: 2.2s; }
    
    /* Digital Particles */
    .particle {
      position: fixed;
      width: 3px;
      height: 3px;
      background-color: var(--neon-purple);
      border-radius: 50%;
      opacity: 0.5;
      box-shadow: 0 0 5px var(--neon-purple);
      animation: float 4s linear infinite;
      z-index: -1;
    }
    
    .particle:nth-child(odd) {
      background-color: var(--neon-blue);
      box-shadow: 0 0 5px var(--neon-blue);
    }
    
    .particle:nth-child(3n) {
      background-color: var(--neon-pink);
      box-shadow: 0 0 5px var(--neon-pink);
    }
    
    /* Herta Logo and Emblem Styles */
    .herta-emblem {
      position: fixed;
      width: 150px;
      height: 150px;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      opacity: 0.15;
      z-index: -1;
      filter: drop-shadow(0 0 5px var(--neon-purple));
      animation: pulse 3s infinite alternate;
    }
    
    /* Page Containers */
    #registerPage, #addSkillPage, #matchesPage, #usersPage {
      display: none;
      height: 100vh;
      overflow: auto;
      padding: 20px;
      transition: all 0.5s ease;
      opacity: 0;
      position: relative;
    }
    
    #registerPage.active, #addSkillPage.active, #matchesPage.active, #usersPage.active {
      display: block;
      opacity: 1;
      animation: fadeIn 0.8s ease-in-out forwards;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    /* Floating Animation */
    @keyframes float {
      0% { transform: translateY(0px) translateX(0px); }
      25% { transform: translateY(-10px) translateX(5px); }
      50% { transform: translateY(0px) translateX(10px); }
      75% { transform: translateY(10px) translateX(5px); }
      100% { transform: translateY(0px) translateX(0px); }
    }
    
    /* Pulse Animation */
    @keyframes pulse {
      0% { opacity: 0.2; }
      100% { opacity: 0.6; }
    }
    
    /* Glitch Animation */
    @keyframes glitch {
      0% {
        clip-path: inset(40% 0 61% 0);
        transform: translate(-2px, 2px);
      }
      20% {
        clip-path: inset(92% 0 1% 0);
        transform: translate(1px, -1px);
      }
      40% {
        clip-path: inset(43% 0 1% 0);
        transform: translate(2px, 2px);
      }
      60% {
        clip-path: inset(25% 0 58% 0);
        transform: translate(-1px, -1px);
      }
      80% {
        clip-path: inset(54% 0 7% 0);
        transform: translate(2px, -2px);
      }
      100% {
        clip-path: inset(58% 0 43% 0);
        transform: translate(-2px, 1px);
      }
    }
    
    /* Scanner Animation */
    @keyframes scanner {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(100%); }
    }
    
    /* Register Container */
    #registerContainer {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 90vh;
      padding: 20px;
      position: relative;
      z-index: 1;
    }
    
    /* Cards Styling */
    .card {
      width: 100%;
      max-width: 420px;
      background: var(--card-bg);
      border-radius: 10px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      padding: 30px;
      color: #ffffff;
      margin: 20px auto;
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(174, 0, 255, 0.2);
      transition: all 0.3s ease;
    }
    
    .card:before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--neon-purple), var(--neon-blue), var(--neon-pink));
      z-index: 2;
    }
    
    .card:after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(174, 0, 255, 0.05) 0%, transparent 100%);
      z-index: -1;
    }
    
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4), 0 0 15px rgba(174, 0, 255, 0.2);
      border-color: var(--neon-purple);
    }
    
    /* Register Box Styling */
    #registerBox {
      width: 100%;
      max-width: 420px;
      background: var(--card-bg);
      border-radius: 10px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 15px rgba(174, 0, 255, 0.3);
      padding: 30px;
      color: #ffffff;
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(174, 0, 255, 0.3);
    }
    
    #registerBox:before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background: linear-gradient(180deg, var(--neon-pink), var(--neon-purple), var(--neon-blue));
      z-index: 1;
    }
    
    #registerBox:after {
      content: "";
      position: absolute;
      top: 5px;
      left: 5px;
      right: 5px;
      bottom: 5px;
      border: 1px solid rgba(0, 243, 255, 0.1);
      z-index: -1;
      pointer-events: none;
    }
    
    /* Scanner Effect */
    .cyber-scanner {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--neon-blue), transparent);
      box-shadow: 0 0 10px var(--neon-blue);
      animation: scanner 5s linear infinite;
      opacity: 0.6;
      z-index: 1;
    }
    
    /* Side Image Styling */
    .side-img {
      width: 180px;
      height: auto;
      margin: 0 30px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(174, 0, 255, 0.5), 0 0 30px rgba(0, 243, 255, 0.3);
      animation: float 6s ease-in-out infinite;
      border: 1px solid var(--neon-purple);
      outline: 1px solid rgba(0, 243, 255, 0.5);
      outline-offset: 3px;
      position: relative;
      z-index: 2;
      transition: all 0.3s ease;
    }
    
    .side-img:hover {
      transform: scale(1.05);
      box-shadow: 0 0 25px rgba(174, 0, 255, 0.7), 0 0 40px rgba(0, 243, 255, 0.4);
    }
    
    /* Side Image Scanner */
    .side-img:before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(0deg, transparent, rgba(0, 243, 255, 0.2), transparent);
      background-size: 100% 50%;
      animation: scanner 3s linear infinite;
      z-index: 1;
      pointer-events: none;
    }
    
    @media (max-width: 900px) {
      #registerContainer {
        flex-direction: column;
      }
      .side-img {
        margin: 20px 0;
        width: 150px;
      }
    }
    
    /* Title Link Styling */
    .title-link {
      color: #ffffff;
      text-decoration: none;
      cursor: pointer;
      font-size: 2.8em;
      font-weight: bold;
      letter-spacing: 2px;
      display: block;
      margin-bottom: 0.3em;
      position: relative;
      transition: all 0.3s ease;
      text-align: center;
      text-shadow: 0 0 10px var(--neon-purple);
      font-family: 'Orbitron', 'Rajdhani', sans-serif;
    }
    
    /* Glitch Pseudo-elements */
    .title-link:before, .title-link:after {
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      color: #fff;
    }
    
    .title-link:before {
      left: 2px;
      text-shadow: -1px 0 var(--neon-purple);
      animation: glitch 0.3s infinite;
      animation-play-state: paused;
      clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
      transform: translate(-2px, -2px);
    }
    
    .title-link:after {
      left: -2px;
      text-shadow: -1px 0 var(--neon-blue);
      animation: glitch 0.3s infinite reverse;
      animation-play-state: paused;
      clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
      transform: translate(2px, 2px);
    }
    
    .title-link:hover:before, .title-link:hover:after {
      animation-play-state: running;
    }
    
    .title-link:hover {
      color: #fff;
      text-shadow: 0 0 15px var(--neon-purple), 0 0 30px rgba(174, 0, 255, 0.5);
    }
    
    /* Subtitle Styling */
    .subtitle {
      text-align: center;
      font-size: 1.2em;
      color: var(--neon-blue);
      margin: 0 0 30px 0;
      padding: 0;
      letter-spacing: 1.5px;
      text-shadow: 0 0 8px var(--neon-blue);
      font-weight: 300;
      position: relative;
      z-index: 1;
    }
    
    /* Form Groups Styling */
    .form-group {
      margin-bottom: 1.5em;
      width: 100%;
      max-width: 350px;
      text-align: center;
      margin-left: auto;
      margin-right: auto;
      position: relative;
    }
    
    .form-label {
      font-weight: bold;
      margin-bottom: 0.5em;
      display: block;
      text-align: center;
      color: #ffffff;
      text-shadow: var(--text-shadow);
      letter-spacing: 1px;
      font-size: 0.95em;
      text-transform: uppercase;
    }
    
    /* Input Styling */
    .input, input[type="text"], input[type="number"] {
      width: 90%;
      padding: 0.8em;
      border-radius: 4px;
      border: 1px solid rgba(0, 243, 255, 0.3);
      background: var(--input-bg);
      color: #ffffff;
      margin-bottom: 0.5em;
      font-size: 1em;
      outline: none;
      transition: all 0.2s;
      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
      font-family: 'Rajdhani', sans-serif;
    }
    
    .input:focus, input[type="text"]:focus, input[type="number"]:focus {
      border: 1px solid var(--neon-blue);
      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3), 0 0 10px rgba(0, 243, 255, 0.5);
    }
    
    /* Select Styling */
    select.input {
      appearance: none;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="%2300f3ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>');
      background-repeat: no-repeat;
      background-position: right 10px center;
      background-size: 16px;
    }
    
    /* Button Styling */
    .button {
      display: inline-block;
      background: linear-gradient(90deg, rgba(174, 0, 255, 0.7) 0%, rgba(0, 243, 255, 0.7) 100%);
      color: #ffffff;
      border: none;
      border-radius: 4px;
      padding: 0.8em 2em;
      font-size: 1em;
      font-weight: bold;
      letter-spacing: 1px;
      box-shadow: 0 0 15px rgba(174, 0, 255, 0.3);
      transition: all 0.2s;
      text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
      cursor: pointer;
      position: relative;
      overflow: hidden;
      z-index: 1;
      text-transform: uppercase;
    }
    
    .button:before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: all 0.5s;
      z-index: -1;
    }
    
    .button:hover:before {
      left: 100%;
    }
    
    .button:hover {
      background: linear-gradient(90deg, rgba(174, 0, 255, 0.9) 0%, rgba(0, 243, 255, 0.9) 100%);
      box-shadow: 0 0 20px rgba(174, 0, 255, 0.5), 0 0 40px rgba(0, 243, 255, 0.3);
      transform: translateY(-2px) scale(1.02);
    }
    
    .button:active {
      transform: translateY(1px);
    }
    
    .button.primary.fit, .button.fit {
      display: block;
      margin: 0 auto;
    }
    
    .button.small {
      font-size: 0.8em;
      padding: 0.5em 1.5em;
    }
    
    /* Navigation Buttons */
    .nav-buttons {
      display: flex;
      justify-content: center;
      margin: 20px 0;
      gap: 15px;
      flex-wrap: wrap;
    }
    
    .nav-button {
      display: inline-block;
      padding: 0.5em 1.2em;
      background: rgba(0, 243, 255, 0.1);
      color: var(--neon-blue);
      border: 1px solid rgba(0, 243, 255, 0.2);
      border-radius: 4px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s;
      text-shadow: 0 0 5px var(--neon-blue);
      font-size: 0.9em;
      letter-spacing: 1px;
    }
    
    .nav-button:hover {
      background: rgba(0, 243, 255, 0.2);
      color: #ffffff;
      transform: translateY(-2px);
      box-shadow: 0 0 15px rgba(0, 243, 255, 0.4);
      border-color: var(--neon-blue);
    }
    
    .nav-button i {
      margin-right: 5px;
    }
    
    /* User Cards */
    .user {
      border: 1px solid rgba(0, 243, 255, 0.2);
      border-radius: 8px;
      padding: 1.2em;
      margin-bottom: 1.2em;
      background: rgba(10, 10, 30, 0.6);
      color: #ffffff;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .user:before {
      content: "";
      position: absolute;
      top: 0;
      right: 0;
      border-width: 0 30px 30px 0;
      border-style: solid;
      border-color: transparent rgba(174, 0, 255, 0.3) transparent transparent;
    }
    
    .user:after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(0, 243, 255, 0.05) 0%, transparent 100%);
      z-index: -1;
      pointer-events: none;
    }
    
    .user:hover {
      transform: translateY(-3px) scale(1.01);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3), 0 0 15px rgba(0, 243, 255, 0.2);
      border-color: var(--neon-blue);
    }
    
    .user b, .user strong {
      color: var(--neon-purple);
      position: relative;
      z-index: 1;
      text-shadow: 0 0 5px rgba(174, 0, 255, 0.5);
    }
    
    /* Skill Tags */
    .skill-tag {
      display: inline-block;
      background: rgba(174, 0, 255, 0.2);
      color: #ffffff;
      padding: 0.3em 0.7em;
      border-radius: 3px;
      margin: 4px;
      font-size: 0.85em;
      transition: all 0.2s;
      position: relative;
      z-index: 1;
      border: 1px solid rgba(174, 0, 255, 0.3);
    }
    
    .skill-tag:hover {
      background: rgba(174, 0, 255, 0.3);
      transform: scale(1.05) translateY(-2px);
      box-shadow: 0 0 10px rgba(174, 0, 255, 0.4);
      border-color: var(--neon-purple);
    }
    
    /* Skill Categories */
    .skill-category {
      color: var(--neon-blue);
      font-style: italic;
      font-size: 0.8em;
      position: relative;
      z-index: 1;
      opacity: 0.8;
    }
    
    /* Rating Stars */
    .rating-stars {
      color: var(--neon-yellow);
      font-size: 1.2em;
      margin: 10px 0;
      position: relative;
      z-index: 1;
      text-shadow: 0 0 8px rgba(255, 238, 0, 0.5);
    }
    
    .rating-stars i {
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .rating-stars i:hover {
      transform: scale(1.2);
      color: #ffffff;
      text-shadow: 0 0 10px var(--neon-yellow);
    }
    
    /* Match Cards */
    .match-card {
      background: linear-gradient(135deg, rgba(10, 10, 30, 0.7), rgba(26, 9, 51, 0.7));
      color: white;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.25);
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
      border: 1px solid rgba(0, 243, 255, 0.2);
    }
    
    .match-card:before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background: linear-gradient(180deg, var(--neon-blue), var(--neon-purple));
      z-index: 1;
    }
    
    .match-card:hover {
      transform: translateY(-5px) scale(1.01);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3), 0 0 20px rgba(0, 243, 255, 0.3);
      border-color: var(--neon-blue);
    }
    
    /* Match Component Styles */
    .match-users {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
      position: relative;
      z-index: 1;
    }
    
    .match-skill {
      text-align: center;
      font-weight: bold;
      font-size: 1.2em;
      padding: 12px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 6px;
      margin: 12px 0;
      position: relative;
      z-index: 1;
      border: 1px solid rgba(0, 243, 255, 0.1);
    }
    
    .match-arrow {
      text-align: center;
      font-size: 1.5em;
      margin: 0 10px;
      color: var(--neon-blue);
      text-shadow: 0 0 8px var(--neon-blue);
      animation: pulse 2s infinite alternate;
    }
    
    /* Success and Error Messages */
    .success {
      color: var(--success-color);
      text-shadow: 0 0 8px rgba(0, 255, 143, 0.5);
    }
    
    .error {
      color: var(--error-color);
      text-shadow: 0 0 8px rgba(255, 0, 80, 0.5);
    }
    
    /* Miscellaneous */
    .pointer {
      cursor: pointer;
    }
    
    /* Autocomplete Styling */
    .autocomplete-container {
      position: relative;
      width: 90%;
      margin: 0 auto;
    }
    
    .autocomplete-items {
      position: absolute;
      border: 1px solid rgba(0, 243, 255, 0.3);
      border-bottom: none;
      border-top: none;
      z-index: 99;
      top: 100%;
      left: 0;
      right: 0;
      background: rgba(10, 10, 30, 0.9);
      max-height: 150px;
      overflow-y: auto;
      color: #ffffff;
      border-radius: 0 0 8px 8px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    }
    
    .autocomplete-items div {
      padding: 10px;
      cursor: pointer;
      background-color: rgba(10, 10, 30, 0.9);
      border-bottom: 1px solid rgba(0, 243, 255, 0.1);
      transition: all 0.2s;
    }
    
    .autocomplete-items div:hover {
      background-color: rgba(0, 243, 255, 0.2);
    }
    
    .autocomplete-active {
      background-color: rgba(174, 0, 255, 0.3) !important;
    }
    
    /* Layout Helpers */
    .flex-center-row {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 40px;
      margin-bottom: 2em;
      margin-top: 2em;
      flex-wrap: wrap;
    }
    
    /* Search Container */
    #searchSkillContainer {
      position: absolute;
      top: 30px;
      right: 40px;
      z-index: 100;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    @media (max-width: 900px) {
      .flex-center-row {
        flex-direction: column;
        align-items: center;
        gap: 20px;
      }
      #searchSkillContainer {
        position: static;
        margin-bottom: 1em;
        justify-content: center;
        width: 100%;
      }
    }
    
    /* Loading Overlay */
    #loading {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    
    #loading.active {
      opacity: 1;
      pointer-events: all;
    }
    
    /* Cyberpunk Loading Spinner */
    .spinner {
      width: 70px;
      height: 70px;
      position: relative;
    }
    
    .spinner:after, .spinner:before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 3px solid transparent;
      border-top-color: var(--neon-blue);
      animation: spin 2s linear infinite;
    }
    
    .spinner:before {
      border-top-color: var(--neon-purple);
      animation-duration: 3s;
    }
    
    .spinner:after {
      animation-delay: -1s;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* Section Styling */
    .section {
      min-width: 300px;
      background: var(--card-bg);
      border-radius: 10px;
      padding: 25px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
      border: 1px solid rgba(0, 243, 255, 0.2);
      position: relative;
      overflow: hidden;
    }
    
    .section:before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--neon-purple), var(--neon-blue));
      z-index: 1;
    }
    
    .section:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4), 0 0 20px rgba(0, 243, 255, 0.2);
      border-color: var(--neon-blue);
    }
    
    .section h2 {
      color: #ffffff;
      text-align: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      position: relative;
      z-index: 1;
      text-shadow: 0 0 10px rgba(174, 0, 255, 0.5);
      letter-spacing: 1px;
    }
    
    .section h2:after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 25%;
      width: 50%;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--neon-blue), transparent);
    }
    
    /* User Avatar */
    .user-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--dark-purple), var(--dark-blue));
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-right: 15px;
      color: white;
      font-weight: bold;
      font-size: 18px;
      border: 1px solid var(--neon-blue);
      box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
      position: relative;
      z-index: 1;
      vertical-align: middle;
      text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    }
    
    /* User Header */
    .user-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .user-name {
      font-size: 1.2em;
      color: white;
      margin-right: 10px;
      text-shadow: 0 0 8px rgba(174, 0, 255, 0.5);
    }
    
    .user-discord {
      font-size: 0.9em;
      color: var(--neon-blue);
      opacity: 0.9;
    }
    
    /* Cyberpunk Corners */
    .cyber-corner {
      position: absolute;
      width: 20px;
      height: 20px;
      pointer-events: none;
      z-index: 2;
    }
    
    .cyber-corner:before, .cyber-corner:after {
      content: "";
      position: absolute;
      background: var(--neon-blue);
    }
    
    .cyber-corner.top-left {
      top: 0;
      left: 0;
    }
    
    .cyber-corner.top-left:before {
      top: 0;
      left: 0;
      width: 2px;
      height: 10px;
    }
    
    .cyber-corner.top-left:after {
      top: 0;
      left: 0;
      width: 10px;
      height: 2px;
    }
    
    .cyber-corner.top-right {
      top: 0;
      right: 0;
    }
    
    .cyber-corner.top-right:before {
      top: 0;
      right: 0;
      width: 2px;
      height: 10px;
    }
    
    .cyber-corner.top-right:after {
      top: 0;
      right: 0;
      width: 10px;
      height: 2px;
    }
    
    .cyber-corner.bottom-left {
      bottom: 0;
      left: 0;
    }
    
    .cyber-corner.bottom-left:before {
      bottom: 0;
      left: 0;
      width: 2px;
      height: 10px;
    }
    
    .cyber-corner.bottom-left:after {
      bottom: 0;
      left: 0;
      width: 10px;
      height: 2px;
    }
    
    .cyber-corner.bottom-right {
      bottom: 0;
      right: 0;
    }
    
    .cyber-corner.bottom-right:before {
      bottom: 0;
      right: 0;
      width: 2px;
      height: 10px;
    }
    
    .cyber-corner.bottom-right:after {
      bottom: 0;
      right: 0;
      width: 10px;
      height: 2px;
    }
    
    /* Herta Image */
    .herta-image {
      display: block;
      margin: 40px auto 20px auto;
      max-width: 300px;
      width: 100%;
      border-radius: 8px;
      box-shadow: 0 0 30px rgba(174, 0, 255, 0.5), 0 0 60px rgba(0, 243, 255, 0.3);
      animation: float 5s ease-in-out infinite;
      border: 2px solid var(--neon-purple);
      position: relative;
      z-index: 2;
    }
    
    /* Glitch Decoration */
    .glitch-decoration {
      position: absolute;
      width: 100%;
      height: 20px;
      background: repeating-linear-gradient(
        90deg,
        transparent,
        transparent 20px,
        rgba(174, 0, 255, 0.5) 20px,
        rgba(174, 0, 255, 0.5) 40px
      );
      opacity: 0.1;
      z-index: -1;
    }
    
    .glitch-decoration.top {
      top: 50px;
    }
    
    .glitch-decoration.bottom {
      bottom: 50px;
    }
    
    /* Cyber Pills */
    .cyber-pill {
      display: inline-block;
      padding: 3px 12px;
      background: rgba(174, 0, 255, 0.1);
      border: 1px solid var(--neon-purple);
      border-radius: 20px;
      color: var(--neon-purple);
      font-size: 0.8em;
      margin: 3px;
      text-shadow: 0 0 5px rgba(174, 0, 255, 0.5);
    }
    
    /* Rating Info */
    .rating-info {
      color: rgba(255, 255, 255, 0.7);
      font-size: 0.9em;
      margin-bottom: 10px;
    }
    
    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: rgba(10, 10, 30, 0.5);
    }
    
    ::-webkit-scrollbar-thumb {
      background: linear-gradient(var(--neon-purple), var(--neon-blue));
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(var(--neon-blue), var(--neon-purple));
    }
    
    /* Text Selection */
    ::selection {
      background: rgba(174, 0, 255, 0.3);
      color: #fff;
      text-shadow: 0 0 8px var(--neon-purple);
    }
  </style>
</head>
<body class="is-preload">
  <!-- Loading Overlay -->
  <div id="loading">
    <div class="spinner"></div>
  </div>
  
  <!-- Background Elements -->
  <div class="cyber-line"></div>
  <div class="cyber-line"></div>
  <div class="cyber-line"></div>
  <div class="cyber-line"></div>
  <div class="cyber-line"></div>
  
  <div class="cyber-line-vertical"></div>
  <div class="cyber-line-vertical"></div>
  <div class="cyber-line-vertical"></div>
  <div class="cyber-line-vertical"></div>
  <div class="cyber-line-vertical"></div>
  
  <!-- Particles -->
  <div class="particle" style="top: 10%; left: 20%;"></div>
  <div class="particle" style="top: 30%; left: 80%;"></div>
  <div class="particle" style="top: 50%; left: 40%;"></div>
  <div class="particle" style="top: 70%; left: 10%;"></div>
  <div class="particle" style="top: 90%; left: 60%;"></div>
  <div class="particle" style="top: 20%; left: 50%;"></div>
  <div class="particle" style="top: 60%; left: 30%;"></div>
  <div class="particle" style="top: 85%; left: 75%;"></div>
  
  <!-- Herta Emblems -->
  <div class="herta-emblem" style="top: 10%; left: 5%;"></div>
  <div class="herta-emblem" style="bottom: 10%; right: 5%;"></div>
  
  <!-- Glitch Decorations -->
  <div class="glitch-decoration top"></div>
  <div class="glitch-decoration bottom"></div>
  
  <!-- Navigation -->
  <div class="nav-buttons" style="position:fixed; top:10px; left:10px; z-index:1000; display:none;" id="mainNav">
    <button class="nav-button" onclick="showRegisterPage()"><i class="fas fa-user-plus"></i>Register</button>
    <button class="nav-button" onclick="showAddSkillPage()"><i class="fas fa-plus-circle"></i>Skills</button>
    <button class="nav-button" onclick="showMatchesPage()"><i class="fas fa-handshake"></i>Matches</button>
    <button class="nav-button" onclick="showUsersPage()"><i class="fas fa-users"></i>Users</button>
  </div>

  <!-- Register Session -->
  <div id="registerPage" class="active">
    <div id="registerContainer">
      <img src="pictures/zani.gif" alt="zani" class="side-img" />
      <div id="registerBox">
        <div class="cyber-corner top-left"></div>
        <div class="cyber-corner top-right"></div>
        <div class="cyber-corner bottom-left"></div>
        <div class="cyber-corner bottom-right"></div>
        <div class="cyber-scanner"></div>
        <a class="title-link" id="titleLink" data-text="Individualis">Individualis</a>
        <div class="subtitle">You give skill, I take your skill</div>
        <form id="registerForm" style="width:100%;max-width:400px;margin-top:30px;">
          <div class="form-group">
            <label class="form-label" for="name">NAME</label>
            <input type="text" id="name" required class="input" placeholder="Your Name" />
          </div>
          <div class="form-group">
            <label class="form-label" for="discord">DISCORD ID</label>
            <input type="text" id="discord" required class="input" placeholder="username#0000" />
          </div>
          <div class="form-group">
            <div class="form-label">SKILLS YOU OFFER</div>
            <div id="skillOfferContainer">
              <div class="skill-offer-row" style="display:flex;margin-bottom:10px;gap:5px;">
                <input type="text" placeholder="Skill Name" class="input offered-skill-name" style="width:50%;" />
                <input type="text" placeholder="Description" class="input offered-skill-desc" style="width:30%;" />
                <select class="input offered-skill-category" style="width:25%;">
                  <option value="Other">Other</option>
                  <option value="Crafts">Crafts</option>
                  <option value="Cooking">Cooking</option>
                  <option value="Technology">Technology</option>
                  <option value="Arts">Arts</option>
                  <option value="Sports">Sports</option>
                  <option value="Education">Education</option>
                  <option value="Health">Health</option>
                </select>
              </div>
            </div>
            <button type="button" id="addMoreSkillsBtn" class="button small" style="margin-top:5px;">
              <i class="fas fa-plus"></i> ADD MORE SKILLS
            </button>
          </div>
          <div class="form-group">
            <div class="form-label">SKILLS YOU WANT</div>
            <div id="skillWantContainer">
              <div class="skill-want-row" style="display:flex;margin-bottom:10px;">
                <input type="text" placeholder="Skill Name" class="input wanted-skill-name" style="width:100%;" />
              </div>
            </div>
            <button type="button" id="addMoreWantsBtn" class="button small" style="margin-top:5px;">
              <i class="fas fa-plus"></i> ADD MORE WANTS
            </button>
          </div>
          <button type="submit" class="button primary fit">
            <i class="fas fa-user-plus"></i> REGISTER
          </button>
          <div id="registerMsg"></div>
        </form>
      </div>
      <img src="pictures/zani.gif" alt="zani" class="side-img" style="transform: scaleX(-1);" />
    </div>
  </div>

  <!-- Add Skill Session -->
  <div id="addSkillPage">
    <!-- Search bar at top right -->
    <div id="searchSkillContainer">
      <div class="autocomplete-container">
        <input type="text" id="searchSkill" placeholder="Search for a skill" autocomplete="off" class="input" />
        <div id="autocomplete-list" class="autocomplete-items"></div>
      </div>
      <button onclick="searchSkill()" class="button small" type="button">
        <i class="fas fa-search"></i> SEARCH
      </button>
    </div>
    
    <a class="title-link" id="titleLink2" data-text="Individualis">Individualis</a>
    <div class="subtitle">You give skill, I take your skill</div>
    
    <section class="container">
      <div class="flex-center-row">
        <!-- Add Skill Offered -->
        <section class="section">
          <div class="cyber-corner top-left"></div>
          <div class="cyber-corner top-right"></div>
          <div class="cyber-corner bottom-left"></div>
          <div class="cyber-corner bottom-right"></div>
          <div class="cyber-scanner"></div>
          <h2><i class="fas fa-hands-helping"></i> ADD SKILL OFFERED</h2>
          <form id="offerForm">
            <div class="row gtr-uniform">
              <div class="col-12">
                <input type="text" id="offerUser" placeholder="User Name" required class="input" />
              </div>
              <div class="col-12">
                <input type="text" id="offerSkill" placeholder="Skill" required class="input" />
              </div>
              <div class="col-12">
                <input type="text" id="offerDesc" placeholder="Skill Description" class="input" />
              </div>
              <div class="col-12">
                <select id="offerCategory" class="input">
                  <option value="Other">Other</option>
                  <option value="Crafts">Crafts</option>
                  <option value="Cooking">Cooking</option>
                  <option value="Technology">Technology</option>
                  <option value="Arts">Arts</option>
                  <option value="Sports">Sports</option>
                  <option value="Education">Education</option>
                  <option value="Health">Health</option>
                </select>
              </div>
              <div class="col-12">
                <button type="submit" class="button fit">
                  <i class="fas fa-plus-circle"></i> ADD
                </button>
              </div>
            </div>
          </form>
          <div id="offerMsg"></div>
        </section>
        
        <!-- Add Skill Wanted -->
        <section class="section">
          <div class="cyber-corner top-left"></div>
          <div class="cyber-corner top-right"></div>
          <div class="cyber-corner bottom-left"></div>
          <div class="cyber-corner bottom-right"></div>
          <div class="cyber-scanner"></div>
          <h2><i class="fas fa-search"></i> ADD SKILL WANTED</h2>
          <form id="wantForm">
            <div class="row gtr-uniform">
              <div class="col-12">
                <input type="text" id="wantUser" placeholder="User Name" required class="input" />
              </div>
              <div class="col-12">
                <input type="text" id="wantSkill" placeholder="Skill" required class="input" />
              </div>
              <div class="col-12">
                <button type="submit" class="button fit">
                  <i class="fas fa-plus-circle"></i> ADD
                </button>
              </div>
            </div>
          </form>
          <div id="wantMsg"></div>
        </section>
        
        <!-- Rate User Section -->
        <section class="section">
          <div class="cyber-corner top-left"></div>
          <div class="cyber-corner top-right"></div>
          <div class="cyber-corner bottom-left"></div>
          <div class="cyber-corner bottom-right"></div>
          <div class="cyber-scanner"></div>
          <h2><i class="fas fa-star"></i> RATE USER</h2>
          <form id="rateForm">
            <div class="row gtr-uniform">
              <div class="col-12">
                <input type="text" id="rateUser" placeholder="User Name" required class="input" />
              </div>
              <div class="col-12">
                <div class="rating-stars" id="ratingStars">
                  <i class="far fa-star" data-rating="1"></i>
                  <i class="far fa-star" data-rating="2"></i>
                  <i class="far fa-star" data-rating="3"></i>
                  <i class="far fa-star" data-rating="4"></i>
                  <i class="far fa-star" data-rating="5"></i>
                </div>
                <input type="hidden" id="ratingValue" value="0" />
              </div>
              <div class="col-12">
                <button type="submit" class="button fit">
                  <i class="fas fa-check-circle"></i> SUBMIT RATING
                </button>
              </div>
            </div>
          </form>
          <div id="rateMsg"></div>
        </section>
      </div>
      
      <div id="searchResult" class="container" style="max-width:800px;margin:0 auto;"></div>
      
      <div class="nav-buttons">
        <button id="findMatchesBtn" class="button">
          <i class="fas fa-handshake"></i> FIND MATCHES
        </button>
        <button id="showAllUsersBtn" class="button">
          <i class="fas fa-users"></i> SHOW ALL USERS
        </button>
      </div>
    </section>
    
    <!-- Herta Image -->
    <img src="pictures/herta.gif" alt="Herta" class="herta-image" />
  </div>

  <!-- Matches Page -->
  <div id="matchesPage">
    <a class="title-link" id="titleLink3" data-text="Individualis">Individualis</a>
    <div class="subtitle">You give skill, I take your skill</div>
    
    <section class="container" style="max-width:800px;margin:20px auto;">
      <div class="card">
        <div class="cyber-corner top-left"></div>
        <div class="cyber-corner top-right"></div>
        <div class="cyber-corner bottom-left"></div>
        <div class="cyber-corner bottom-right"></div>
        <div class="cyber-scanner"></div>
        <h2><i class="fas fa-handshake"></i> SKILL MATCHES</h2>
        <p>These are all the matches between users' skills wanted and offered:</p>
        <div id="matchesList"></div>
      </div>
      
      <div class="nav-buttons">
        <button id="matchesBackBtn" class="button">
          <i class="fas fa-arrow-left"></i> BACK
        </button>
      </div>
    </section>
  </div>

  <!-- Show All Users Session -->
  <div id="usersPage">
    <a class="title-link" id="titleLink4" data-text="Individualis">Individualis</a>
    <div class="subtitle">You give skill, I take your skill</div>
    
    <section class="container" style="max-width:800px;margin:20px auto;">
      <div class="card">
        <div class="cyber-corner top-left"></div>
        <div class="cyber-corner top-right"></div>
        <div class="cyber-corner bottom-left"></div>
        <div class="cyber-corner bottom-right"></div>
        <div class="cyber-scanner"></div>
        <h2><i class="fas fa-users"></i> ALL USERS</h2>
        <div id="usersFull"></div>
      </div>
      
      <div class="nav-buttons">
        <button id="usersBackBtn" class="button">
          <i class="fas fa-arrow-left"></i> BACK
        </button>
      </div>
    </section>
  </div>

  <script>
    let users = [];

    // Example users
    const exampleUsers = [
      {
        name: "Ian Byczek",
        discord: "ian#0001",
        skillsOffered: [{ name: "Nursing", description: "Medical Care", category: "Health" }],
        skillsWanted: ["Cooking", "Programming"],
        ratingCount: 2,
        ratingAverage: 4.5
      },
      {
        name: "Marlon Castanon",
        discord: "marlon#0002",
        skillsOffered: [{ name: "Blacksmith", description: "Metal working and forging", category: "Crafts" }],
        skillsWanted: ["Woodworking", "Drawing"],
        ratingCount: 1,
        ratingAverage: 5.0
      },
      {
        name: "Wesley Zhang",
        discord: "wesley#0003",
        skillsOffered: [{ name: "Cooking", description: "Asian cuisine", category: "Cooking" }],
        skillsWanted: ["Baking", "Photography"],
        ratingCount: 3,
        ratingAverage: 4.0
      },
      {
        name: "Chester Duong",
        discord: "chester#0004",
        skillsOffered: [{ name: "Those who know", description: "Secret knowledge", category: "Other" }],
        skillsWanted: ["Hiking", "Meditation"],
        ratingCount: 0,
        ratingAverage: 0.0
      },
      {
        name: "Juan Zombrano",
        discord: "juan#0005",
        skillsOffered: [{ name: "Serving", description: "Restaurant service", category: "Other" }],
        skillsWanted: ["Dancing", "Singing"],
        ratingCount: 1,
        ratingAverage: 4.0
      }
    ];

    function saveUsers() {
      localStorage.setItem('skillSharingUsers', JSON.stringify(users));
      updateAutocomplete();
    }

    function loadUsers() {
      const data = localStorage.getItem('skillSharingUsers');
      users = data ? JSON.parse(data) : [];
    }

    // Add example users if not present
    function addExampleUsersIfNeeded() {
      loadUsers();
      let changed = false;
      exampleUsers.forEach(ex => {
        if (!users.some(u => u.name === ex.name)) {
          users.push(ex);
          changed = true;
        }
      });
      if (changed) saveUsers();
    }

    // Show loading animation
    function showLoading() {
      document.getElementById('loading').classList.add('active');
    }

    // Hide loading animation
    function hideLoading() {
      setTimeout(() => {
        document.getElementById('loading').classList.remove('active');
      }, 300);
    }

    // Navigation functions
    function showRegisterPage(pushState = true) {
      document.getElementById('mainNav').style.display = 'none';
      document.getElementById('registerPage').classList.add('active');
      document.getElementById('addSkillPage').classList.remove('active');
      document.getElementById('matchesPage').classList.remove('active');
      document.getElementById('usersPage').classList.remove('active');
      if (pushState) location.hash = "#register";
    }

    function showAddSkillPage(pushState = true) {
      document.getElementById('mainNav').style.display = 'flex';
      document.getElementById('registerPage').classList.remove('active');
      document.getElementById('addSkillPage').classList.add('active');
      document.getElementById('matchesPage').classList.remove('active');
      document.getElementById('usersPage').classList.remove('active');
      displayUsers();
      updateAutocomplete();
      if (pushState) location.hash = "#addskill";
    }

    function showMatchesPage(pushState = true) {
      document.getElementById('mainNav').style.display = 'flex';
      document.getElementById('registerPage').classList.remove('active');
      document.getElementById('addSkillPage').classList.remove('active');
      document.getElementById('matchesPage').classList.add('active');
      document.getElementById('usersPage').classList.remove('active');
      findAndDisplayMatches();
      if (pushState) location.hash = "#matches";
    }

    function showUsersPage(pushState = true) {
      document.getElementById('mainNav').style.display = 'flex';
      document.getElementById('registerPage').classList.remove('active');
      document.getElementById('addSkillPage').classList.remove('active');
      document.getElementById('matchesPage').classList.remove('active');
      document.getElementById('usersPage').classList.add('active');
      displayUsersFull();
      if (pushState) location.hash = "#users";
    }

    // Display functions
    function displayUsers() {
      let html = '';
      users.forEach(user => {
        const ratingHTML = getRatingStarsHTML(user.ratingAverage, user.ratingCount);
        
        html += `<div class="user">
          <b>${user.name}</b> (Discord: ${user.discord})<br>
          ${ratingHTML}
          <strong>Offers:</strong> 
          <div>${user.skillsOffered.map(s => 
            `<span class="skill-tag">${s.name}</span> 
             ${s.description ? `<small>${s.description}</small>` : ''}
             <small class="skill-category">(${s.category})</small>`
          ).join(' ')}</div>
          <strong>Wants:</strong> 
          <div>${user.skillsWanted.map(s => `<span class="skill-tag">${s}</span>`).join(' ')}</div>
        </div>`;
      });
      
      const usersElement = document.getElementById('users');
      if (usersElement) {
        usersElement.innerHTML = html || "<i>No users registered yet.</i>";
      }
    }

    function displayUsersFull() {
      let html = '';
      users.forEach(user => {
        const ratingHTML = getRatingStarsHTML(user.ratingAverage, user.ratingCount);
        const initials = user.name.split(' ').map(n => n[0]).join('');
        
        html += `<div class="user">
          <div class="user-header">
            <div class="user-avatar">${initials}</div>
            <div>
              <div class="user-name">${user.name}</div>
              <div class="user-discord">Discord: ${user.discord}</div>
            </div>
          </div>
          ${ratingHTML}
          <strong>Offers:</strong> 
          <div>${user.skillsOffered.map(s => 
            `<span class="skill-tag">${s.name}</span> 
             ${s.description ? `<small>${s.description}</small>` : ''}
             <small class="skill-category">(${s.category})</small>`
          ).join(' ')}</div>
          <strong>Wants:</strong> 
          <div>${user.skillsWanted.map(s => `<span class="skill-tag">${s}</span>`).join(' ')}</div>
        </div>`;
      });
      
      document.getElementById('usersFull').innerHTML = html || "<i>No users registered yet.</i>";
    }

    function getRatingStarsHTML(rating, count) {
      if (count === 0) {
        return `<div class="rating-info">No ratings yet</div>`;
      }
      
      const fullStars = Math.floor(rating);
      const halfStar = rating % 1 >= 0.5;
      const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
      
      let starsHTML = '<div class="rating-stars">';
      
      // Full stars
      for (let i = 0; i < fullStars; i++) {
        starsHTML += '<i class="fas fa-star"></i>';
      }
      
      // Half star if needed
      if (halfStar) {
        starsHTML += '<i class="fas fa-star-half-alt"></i>';
      }
      
      // Empty stars
      for (let i = 0; i < emptyStars; i++) {
        starsHTML += '<i class="far fa-star"></i>';
      }
      
      starsHTML += `</div>`;
      starsHTML += `<div class="rating-info">${rating.toFixed(1)}/5 (${count} ${count === 1 ? 'review' : 'reviews'})</div>`;
      
      return starsHTML;
    }

    function findAndDisplayMatches() {
      let matches = [];
      let found = false;
      
      // Create a map for faster matching
      let skillProviderMap = {};
      
      // Build map of skills to providers
      for (const provider of users) {
        for (const skill of provider.skillsOffered) {
          const skillKey = skill.name.toLowerCase();
          if (!skillProviderMap[skillKey]) {
            skillProviderMap[skillKey] = [];
          }
          skillProviderMap[skillKey].push({ user: provider, skill: skill });
        }
      }
      
      // Find matches by looking up wanted skills in the map
      for (const seeker of users) {
        for (const wanted of seeker.skillsWanted) {
          const wantedKey = wanted.toLowerCase();
          
          if (skillProviderMap[wantedKey]) {
            for (const providerInfo of skillProviderMap[wantedKey]) {
              const provider = providerInfo.user;
              const skill = providerInfo.skill;
              
              // Skip if seeker and provider are the same person
              if (seeker.name === provider.name) continue;
              
              matches.push({
                seeker: seeker,
                provider: provider,
                skill: skill
              });
              
              found = true;
            }
          }
        }
      }
      
      // Display matches
      let html = '';
      
      if (found) {
        matches.forEach(match => {
          const seekerInitials = match.seeker.name.split(' ').map(n => n[0]).join('');
          const providerInitials = match.provider.name.split(' ').map(n => n[0]).join('');
          
          html += `
            <div class="match-card">
              <div class="cyber-scanner"></div>
              <div class="cyber-corner top-left"></div>
              <div class="cyber-corner top-right"></div>
              <div class="cyber-corner bottom-left"></div>
              <div class="cyber-corner bottom-right"></div>
              <div class="match-users">
                <div>
                  <div class="user-avatar">${seekerInitials}</div>
                  <strong>${match.seeker.name}</strong>
                  <div>Wants to learn</div>
                </div>
                <div class="match-arrow">
                  <i class="fas fa-exchange-alt"></i>
                </div>
                <div>
                  <div class="user-avatar">${providerInitials}</div>
                  <strong>${match.provider.name}</strong>
                  <div>Can teach</div>
                </div>
              </div>
              <div class="match-skill">
                <i class="fas fa-graduation-cap"></i> ${match.skill.name}
                ${match.skill.description ? `<div><small>${match.skill.description}</small></div>` : ''}
                <div><small class="skill-category">(${match.skill.category})</small></div>
              </div>
              <div style="text-align:center">
                <small>Discord: ${match.provider.discord}</small>
              </div>
            </div>
          `;
        });
      } else {
        html = "<p class='error' style='text-align:center;padding:20px;'><i class='fas fa-exclamation-circle'></i> No matches found.</p>";
      }
      
      document.getElementById('matchesList').innerHTML = html;
    }

    // Form submission handlers
    document.getElementById('registerForm').onsubmit = function(e) {
      e.preventDefault();
      showLoading();
      
      let name = document.getElementById('name').value.trim();
      let discord = document.getElementById('discord').value.trim();
      let msg = document.getElementById('registerMsg');
      
      if (name.length < 2) {
        msg.innerHTML = "<span class='error'><i class='fas fa-exclamation-circle'></i> Name must be at least 2 characters.</span>";
        hideLoading();
        return;
      }
      
      if (users.some(u => u.name.toLowerCase() === name.toLowerCase())) {
        msg.innerHTML = "<span class='error'><i class='fas fa-exclamation-circle'></i> User already exists.</span>";
        hideLoading();
        return;
      }
      
      // Collect skills offered
      let skillsOffered = [];
      document.querySelectorAll('.skill-offer-row').forEach(row => {
        const nameInput = row.querySelector('.offered-skill-name');
        const descInput = row.querySelector('.offered-skill-desc');
        const catInput = row.querySelector('.offered-skill-category');
        
        if (nameInput && nameInput.value.trim()) {
          skillsOffered.push({
            name: nameInput.value.trim(),
            description: descInput ? descInput.value.trim() : '',
            category: catInput ? catInput.value : 'Other'
          });
        }
      });
      
      // Collect skills wanted
      let skillsWanted = [];
      document.querySelectorAll('.wanted-skill-name').forEach(input => {
        if (input.value.trim()) {
          skillsWanted.push(input.value.trim());
        }
      });
      
      users.push({ 
        name, 
        discord, 
        skillsOffered, 
        skillsWanted,
        ratingCount: 0,
        ratingAverage: 0.0
      });
      
      saveUsers();
      
      msg.innerHTML = "<span class='success'><i class='fas fa-check-circle'></i> User registered successfully!</span>";
      
      setTimeout(() => {
        msg.innerHTML = "";
        this.reset();
        hideLoading();
        showAddSkillPage();
      }, 1000);
    };

    document.getElementById('offerForm').onsubmit = function(e) {
      e.preventDefault();
      showLoading();
      
      let name = document.getElementById('offerUser').value.trim();
      let skill = document.getElementById('offerSkill').value.trim();
      let desc = document.getElementById('offerDesc').value.trim();
      let category = document.getElementById('offerCategory').value;
      let msg = document.getElementById('offerMsg');
      
      let user = users.find(u => u.name.toLowerCase() === name.toLowerCase());
      
      if (user) {
        if (skill.length < 1) {
          msg.innerHTML = "<span class='error'><i class='fas fa-exclamation-circle'></i> Skill name cannot be empty.</span>";
          hideLoading();
          return;
        }
        
        if (!user.skillsOffered.some(s => s.name.toLowerCase() === skill.toLowerCase())) {
          user.skillsOffered.push({ 
            name: skill, 
            description: desc,
            category: category || 'Other'
          });
          
          saveUsers();
          displayUsers();
          
          msg.innerHTML = "<span class='success'><i class='fas fa-check-circle'></i> Skill added successfully!</span>";
          this.reset();
        } else {
          msg.innerHTML = "<span class='error'><i class='fas fa-exclamation-circle'></i> User already has this skill.</span>";
        }
      } else {
        msg.innerHTML = "<span class='error'><i class='fas fa-exclamation-circle'></i> User not found.</span>";
      }
      
      setTimeout(() => { 
        msg.innerHTML = ""; 
        hideLoading();
      }, 2000);
    };

    document.getElementById('wantForm').onsubmit = function(e) {
      e.preventDefault();
      showLoading();
      
      let name = document.getElementById('wantUser').value.trim();
      let skill = document.getElementById('wantSkill').value.trim();
      let msg = document.getElementById('wantMsg');
      
      let user = users.find(u => u.name.toLowerCase() === name.toLowerCase());
      
      if (user) {
        if (skill.length < 1) {
          msg.innerHTML = "<span class='error'><i class='fas fa-exclamation-circle'></i> Skill name cannot be empty.</span>";
          hideLoading();
          return;
        }
        
        if (!user.skillsWanted.some(s => s.toLowerCase() === skill.toLowerCase())) {
          user.skillsWanted.push(skill);
          saveUsers();
          displayUsers();
          
          msg.innerHTML = "<span class='success'><i class='fas fa-check-circle'></i> Skill wanted added successfully!</span>";
          this.reset();
        } else {
          msg.innerHTML = "<span class='error'><i class='fas fa-exclamation-circle'></i> User already wants this skill.</span>";
        }
      } else {
        msg.innerHTML = "<span class='error'><i class='fas fa-exclamation-circle'></i> User not found.</span>";
      }
      
      setTimeout(() => { 
        msg.innerHTML = ""; 
        hideLoading();
      }, 2000);
    };

    // Rating system
    document.getElementById('rateForm').onsubmit = function(e) {
      e.preventDefault();
      showLoading();
      
      let name = document.getElementById('rateUser').value.trim();
      let rating = parseInt(document.getElementById('ratingValue').value);
      let msg = document.getElementById('rateMsg');
      
      if (rating < 1 || rating > 5) {
        msg.innerHTML = "<span class='error'><i class='fas fa-exclamation-circle'></i> Please select a rating from 1 to 5.</span>";
        hideLoading();
        return;
      }
      
      let user = users.find(u => u.name.toLowerCase() === name.toLowerCase());
      
      if (user) {
        // Update rating
        user.ratingCount = (user.ratingCount || 0) + 1;
        let totalScore = (user.ratingAverage || 0) * (user.ratingCount - 1) + rating;
        user.ratingAverage = totalScore / user.ratingCount;
        
        saveUsers();
        displayUsers();
        
        msg.innerHTML = `<span class='success'><i class='fas fa-check-circle'></i> Rating added! User's current rating: ${user.ratingAverage.toFixed(1)}/5 (${user.ratingCount} ${user.ratingCount === 1 ? 'review' : 'reviews'})</span>`;
        this.reset();
        resetRatingStars();
      } else {
        msg.innerHTML = "<span class='error'><i class='fas fa-exclamation-circle'></i> User not found.</span>";
      }
      
      setTimeout(() => { 
        msg.innerHTML = ""; 
        hideLoading();
      }, 2000);
    };

    // Rating stars interactivity
    function setupRatingStars() {
      const stars = document.querySelectorAll('#ratingStars i');
      
      stars.forEach(star => {
        star.addEventListener('mouseover', function() {
          const rating = parseInt(this.getAttribute('data-rating'));
          resetRatingStars();
          
          for (let i = 0; i < rating; i++) {
            stars[i].classList.remove('far');
            stars[i].classList.add('fas');
          }
        });
        
        star.addEventListener('click', function() {
          const rating = parseInt(this.getAttribute('data-rating'));
          document.getElementById('ratingValue').value = rating;
          
          resetRatingStars();
          for (let i = 0; i < rating; i++) {
            stars[i].classList.remove('far');
            stars[i].classList.add('fas');
          }
        });
      });
      
      document.getElementById('ratingStars').addEventListener('mouseout', resetRatingStars);
    }

    function resetRatingStars() {
      const stars = document.querySelectorAll('#ratingStars i');
      const currentRating = parseInt(document.getElementById('ratingValue').value) || 0;
      
      stars.forEach((star, index) => {
        if (index < currentRating) {
          star.classList.remove('far');
          star.classList.add('fas');
        } else {
          star.classList.remove('fas');
          star.classList.add('far');
        }
      });
    }

    // Search functionality
    function updateAutocomplete() {
      let allSkills = [];
      users.forEach(u => u.skillsOffered.forEach(s => {
        if (!allSkills.includes(s.name)) allSkills.push(s.name);
      }));
      
      if (document.getElementById('searchSkill')) {
        autocomplete(document.getElementById('searchSkill'), allSkills);
      }
    }

    function autocomplete(inp, arr) {
      let currentFocus;
      
      inp.addEventListener("input", function(e) {
        let a, b, i, val = this.value;
        closeAllLists();
        
        if (!val) { return false; }
        
        currentFocus = -1;
        a = document.getElementById('autocomplete-list');
        
        for (i = 0; i < arr.length; i++) {
          if (arr[i].toLowerCase().indexOf(val.toLowerCase()) !== -1) {
            b = document.createElement("DIV");
            b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
            b.innerHTML += arr[i].substr(val.length);
            b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
            
            b.addEventListener("click", function(e) {
                inp.value = this.getElementsByTagName("input")[0].value;
                closeAllLists();
            });
            
            a.appendChild(b);
          }
        }
      });
      
      inp.addEventListener("keydown", function(e) {
        let x = document.getElementById('autocomplete-list');
        if (x) x = x.getElementsByTagName("div");
        
        if (e.keyCode == 40) { // Down arrow
          currentFocus++;
          addActive(x);
        } else if (e.keyCode == 38) { // Up arrow
          currentFocus--;
          addActive(x);
        } else if (e.keyCode == 13) { // Enter
          e.preventDefault();
          if (currentFocus > -1) {
            if (x) x[currentFocus].click();
          }
        }
      });
      
      function addActive(x) {
        if (!x) return false;
        removeActive(x);
        if (currentFocus >= x.length) currentFocus = 0;
        if (currentFocus < 0) currentFocus = (x.length - 1);
        x[currentFocus].classList.add("autocomplete-active");
      }
      
      function removeActive(x) {
        for (let i = 0; i < x.length; i++) {
          x[i].classList.remove("autocomplete-active");
        }
      }
      
      function closeAllLists(elmnt) {
        const x = document.getElementById('autocomplete-list');
        if (x && elmnt != x && elmnt != inp) {
          x.innerHTML = '';
        }
      }
      
      document.addEventListener("click", function (e) {
        closeAllLists(e.target);
      });
    }

    function searchSkill() {
      showLoading();
      
      let skill = document.getElementById('searchSkill').value.trim();
      let resultDiv = document.getElementById('searchResult');
      
      if (skill.length < 1) {
        resultDiv.innerHTML = "<span class='error' style='text-align:center;padding:20px;'><i class='fas fa-exclamation-circle'></i> Please enter a skill to search for.</span>";
        hideLoading();
        return;
      }
      
      let foundUsers = users.filter(user =>
        user.skillsOffered.some(s => s.name.toLowerCase() === skill.toLowerCase())
      );
      
      if (foundUsers.length > 0) {
        let html = '<h2 class="title-link" style="font-size:1.8em; margin-top:30px; margin-bottom:20px;">SEARCH RESULTS</h2>';
        
        foundUsers.forEach(user => {
          const matchingSkill = user.skillsOffered.find(s => s.name.toLowerCase() === skill.toLowerCase());
          const ratingHTML = getRatingStarsHTML(user.ratingAverage, user.ratingCount);
          const initials = user.name.split(' ').map(n => n[0]).join('');
          
          html += `<div class="user">
            <div class="cyber-corner top-left"></div>
            <div class="cyber-corner top-right"></div>
            <div class="cyber-corner bottom-left"></div>
            <div class="cyber-corner bottom-right"></div>
            <div class="user-header">
              <div class="user-avatar">${initials}</div>
              <div>
                <div class="user-name">${user.name}</div>
                <div class="user-discord">Discord: ${user.discord}</div>
              </div>
            </div>
            ${ratingHTML}
            <strong>Matching Skill:</strong> 
            <div>
              <span class="skill-tag">${matchingSkill.name}</span>
              ${matchingSkill.description ? `<small>${matchingSkill.description}</small>` : ''}
              <small class="skill-category">(${matchingSkill.category})</small>
            </div>
          </div>`;
        });
        
        resultDiv.innerHTML = html;
      } else {
        resultDiv.innerHTML = "<div class='error' style='text-align:center;padding:20px;'><i class='fas fa-search'></i> No users found offering the skill: <strong>" + skill + "</strong></div>";
      }
      
      hideLoading();
    }

    // Button event handlers
    document.getElementById('addMoreSkillsBtn').addEventListener('click', function() {
      const container = document.getElementById('skillOfferContainer');
      const newRow = document.createElement('div');
      newRow.className = 'skill-offer-row';
      newRow.style = 'display:flex;margin-bottom:10px;gap:5px;';
      
      newRow.innerHTML = `
        <input type="text" placeholder="Skill Name" class="input offered-skill-name" style="width:50%;" />
        <input type="text" placeholder="Description" class="input offered-skill-desc" style="width:30%;" />
        <select class="input offered-skill-category" style="width:25%;">
          <option value="Other">Other</option>
          <option value="Crafts">Crafts</option>
          <option value="Cooking">Cooking</option>
          <option value="Technology">Technology</option>
          <option value="Arts">Arts</option>
          <option value="Sports">Sports</option>
          <option value="Education">Education</option>
          <option value="Health">Health</option>
        </select>
      `;
      
      container.appendChild(newRow);
    });

    document.getElementById('addMoreWantsBtn').addEventListener('click', function() {
      const container = document.getElementById('skillWantContainer');
      const newRow = document.createElement('div');
      newRow.className = 'skill-want-row';
      newRow.style = 'display:flex;margin-bottom:10px;';
      
      newRow.innerHTML = `
        <input type="text" placeholder="Skill Name" class="input wanted-skill-name" style="width:100%;" />
      `;
      
      container.appendChild(newRow);
    });

    document.getElementById('showAllUsersBtn').onclick = function() {
      showUsersPage();
    };

    document.getElementById('findMatchesBtn').onclick = function() {
      showMatchesPage();
    };

    document.getElementById('usersBackBtn').onclick = function() {
      showAddSkillPage();
    };

    document.getElementById('matchesBackBtn').onclick = function() {
      showAddSkillPage();
    };

    document.getElementById('titleLink').onclick = function() {
      showAddSkillPage();
    };
    
    document.getElementById('titleLink2').onclick = function() {
      showAddSkillPage();
    };
    
    document.getElementById('titleLink3').onclick = function() {
      showAddSkillPage();
    };
    
    document.getElementById('titleLink4').onclick = function() {
      showAddSkillPage();
    };

    // URL hash handling
    function handleHash() {
      showLoading();
      
      if (location.hash === "#register") {
        showRegisterPage(false);
      } else if (location.hash === "#users") {
        showUsersPage(false);
      } else if (location.hash === "#matches") {
        showMatchesPage(false);
      } else if (location.hash === "#addskill") {
        showAddSkillPage(false);
      } else {
        showRegisterPage(false);
      }
      
      hideLoading();
    }

    window.addEventListener('hashchange', handleHash);

    // Initialize
    window.onload = function() {
      addExampleUsersIfNeeded();
      updateAutocomplete();
      setupRatingStars();
      handleHash();
    };
  </script>
</body>
</html>
